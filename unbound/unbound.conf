# /var/lib/unbound/unbound.conf generated by UCI
# /var/lib/unbound/server.conf.tmp generated by UCI
server:
  username: unbound
  chroot: /var/lib/unbound
  directory: /var/lib/unbound
  pidfile: /var/run/unbound.pid
  tls-cert-bundle: /etc/ssl/certs/ca-certificates.crt
  root-hints: /var/lib/unbound/root.hints
  auto-trust-anchor-file: /var/lib/unbound/root.key

  num-threads: 4
  msg-cache-slabs: 4
  rrset-cache-slabs: 4
  infra-cache-slabs: 4
  key-cache-slabs: 4
  ratelimit-slabs: 4
  ip-ratelimit-slabs: 4

  use-syslog: yes
  statistics-interval: 0
  statistics-cumulative: no
  verbosity: 1
  extended-statistics: no

  interface-automatic: yes
  edns-buffer-size: 1232
  port: 53
  outgoing-port-permit: 10240-65535
  do-ip4: yes
  do-ip6: yes
  prefer-ip4: no
  prefer-ip6: yes

  harden-short-bufsize: yes
  harden-large-queries: yes
  harden-glue: yes
  use-caps-for-id: no

#  msg-buffer-size: 32768
#  outgoing-range: 1600
#  num-queries-per-thread: 800
#  outgoing-num-tcp: 50
#  incoming-num-tcp: 50
#  rrset-cache-size: 8192k
#  msg-cache-size: 4096k
#  stream-wait-size: 4096k
#  key-cache-size: 4096k
#  neg-cache-size: 1024k
#  ratelimit-size: 1024k
#  ip-ratelimit-size: 1024k
#  infra-cache-numhosts: 8192

  so-rcvbuf: 100m
  so-sndbuf: 100m

  msg-buffer-size: 65552
  outgoing-range: 8192
  num-queries-per-thread: 4096
  outgoing-num-tcp: 2048
  incoming-num-tcp: 2048
  rrset-cache-size: 100m
  msg-cache-size: 100m
  stream-wait-size: 100m
  key-cache-size: 100m
  neg-cache-size: 100m
  ratelimit-size: 100m
  ip-ratelimit-size: 100m
  infra-cache-numhosts: 8192

  val-override-date: -1
  harden-dnssec-stripped: yes
  val-clean-additional: yes
  ignore-cd-flag: yes
  module-config: "respip validator iterator"

  qname-minimisation: yes
  qname-minimisation-strict: yes
  aggressive-nsec: yes
  prefetch-key: yes
  prefetch: yes
  target-fetch-policy: "3 2 1 0 0"

  cache-min-ttl: 120
  cache-max-ttl: 72000
  cache-max-negative-ttl: 1000
  val-bogus-ttl: 300
  infra-host-ttl: 900

  hide-identity: yes
  hide-version: yes

  private-address: 10.0.0.0/8
  private-address: 100.64.0.0/10
  private-address: 169.254.0.0/16
  private-address: 172.16.0.0/12
  private-address: 192.168.0.0/16
  private-address: fc00::/7
  private-address: fe80::/10

  access-control: 10.0.0.1/24 allow
  access-control: 10.0.0.1/24 allow
  access-control: 127.0.0.0/8 allow
  access-control: ::1/128 allow
  access-control: fe80::/10 allow

# /var/lib/unbound/host.conf.tmp generated by UCI
  domain-insecure: lan
  private-domain: lan
  local-zone: lan static
  local-data: "lan. 7200 IN SOA localhost. nobody.invalid. 29538215 3600 1200 9600 300"
  local-data: "lan. 7200 IN NS localhost."
  local-data: 'lan. 7200 IN TXT "comment=local intranet dns zone"'

  local-zone: local always_nxdomain

  domain-insecure: openwrt
  private-domain: openwrt
  local-zone: openwrt static
  local-data: "openwrt. 7200 IN SOA localhost. nobody.invalid. 29538215 3600 1200 9600 300"
  local-data: "openwrt. 7200 IN NS localhost."
  local-data: 'openwrt. 7200 IN TXT "comment=local intranet dns zone"'

  local-zone: 98.0.90.100.in-addr.arpa transparent

  local-zone: 5.8.9.6.8.7.d.e.1.d.e.6.d.4.9.c.0.0.0.0.0.0.0.b.0.e.f.4.4.0.8.2.ip6.arpa transparent

  domain-insecure: 0.0.10.in-addr.arpa
  local-zone: 0.0.10.in-addr.arpa static
  local-data: "0.0.10.in-addr.arpa. 7200 IN SOA localhost. nobody.invalid. 29538215 3600 1200 9600 300"
  local-data: "0.0.10.in-addr.arpa. 7200 IN NS localhost."
  local-data: '0.0.10.in-addr.arpa. 7200 IN TXT "comment=local intranet dns zone"'

  domain-insecure: 0.0.10.in-addr.arpa
  local-zone: 0.0.10.in-addr.arpa static
  local-data: "0.0.10.in-addr.arpa. 7200 IN SOA localhost. nobody.invalid. 29538215 3600 1200 9600 300"
  local-data: "0.0.10.in-addr.arpa. 7200 IN NS localhost."
  local-data: '0.0.10.in-addr.arpa. 7200 IN TXT "comment=local intranet dns zone"'

  local-data-ptr: "10.0.0.1 300 openwrt"
  local-data: "openwrt. 300 IN A 10.0.0.1"

  local-data-ptr: "10.0.0.1 300 openwrt"
  local-data: "openwrt. 300 IN A 10.0.0.1"

include: /var/lib/unbound/dhcp.conf

include: /var/lib/unbound/unbound_srv.conf

# /var/lib/unbound/zone.conf.tmp generated by UCI
 # Special zone  was not enabled or had UCI conflicts.

 # Special zone  was not enabled or had UCI conflicts.

 # Special zone  was not enabled or had UCI conflicts.

 # Special zone  was not enabled or had UCI conflicts.

# /var/lib/unbound/ctrl.conf.tmp generated by UCI
remote-control:
  control-enable: yes
  control-use-cert: no
  control-interface: 127.0.0.1
  control-interface: ::1

include: /var/lib/unbound/unbound_ext.conf
