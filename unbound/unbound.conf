# /var/lib/unbound/unbound.conf generated by UCI
# /var/lib/unbound/server.conf.tmp generated by UCI
server:
  username: unbound
  chroot: /var/lib/unbound
  directory: /var/lib/unbound
  pidfile: /var/run/unbound.pid
  tls-cert-bundle: /etc/ssl/certs/ca-certificates.crt
  auto-trust-anchor-file: /var/lib/unbound/root.key

  num-threads: 4
  msg-cache-slabs: 1
  rrset-cache-slabs: 1
  infra-cache-slabs: 1
  key-cache-slabs: 1
  ratelimit-slabs: 1
  ip-ratelimit-slabs: 1

  use-syslog: yes
  statistics-interval: 0
  statistics-cumulative: no
  verbosity: 1
  extended-statistics: no

  interface-automatic: yes
  do-not-query-localhost: no
  edns-buffer-size: 1232
  port: 53
  outgoing-port-permit: 10240-65535
  do-ip4: yes
  do-ip6: yes
  prefer-ip4: no
  prefer-ip6: yes

  harden-short-bufsize: yes
  harden-large-queries: yes
  harden-glue: yes
  use-caps-for-id: no

  msg-buffer-size: 32768
  outgoing-range: 1600
  num-queries-per-thread: 800
  outgoing-num-tcp: 50
  incoming-num-tcp: 50
  rrset-cache-size: 8192k
  msg-cache-size: 4096k
  stream-wait-size: 4096k
  key-cache-size: 4096k
  neg-cache-size: 1024k
  ratelimit-size: 1024k
  ip-ratelimit-size: 1024k
  infra-cache-numhosts: 8192

  harden-dnssec-stripped: yes
  val-clean-additional: yes
  ignore-cd-flag: yes
  module-config: "respip validator iterator"

  qname-minimisation: no
  aggressive-nsec: yes
  prefetch-key: yes
  prefetch: yes
  target-fetch-policy: "3 2 1 0 0"

  cache-min-ttl: 120
  cache-max-ttl: 72000
  cache-max-negative-ttl: 1000
  val-bogus-ttl: 300
  infra-host-ttl: 900

  hide-identity: yes
  hide-version: yes

  root-hints: root.hints

  private-address: 10.0.0.0/8
  private-address: 100.64.0.0/10
  private-address: 169.254.0.0/16
  private-address: 172.16.0.0/12
  private-address: 192.168.0.0/16
  private-address: fc00::/7
  private-address: fe80::/10

  access-control: 192.168.1.1/24 allow
  access-control: 127.0.0.0/8 allow
  access-control: ::1/128 allow
  access-control: fe80::/10 allow

# /var/lib/unbound/host.conf.tmp generated by UCI
  domain-insecure: lan
  private-domain: lan
  local-zone: lan static
  local-data: "lan. 7200 IN SOA localhost. nobody.invalid. 28762409 3600 1200 9600 300"
  local-data: "lan. 7200 IN NS localhost."
  local-data: 'lan. 7200 IN TXT "comment=local intranet dns zone"'

  local-zone: local always_nxdomain

  domain-insecure: openwrt
  private-domain: openwrt
  local-zone: openwrt static
  local-data: "openwrt. 7200 IN SOA localhost. nobody.invalid. 28762409 3600 1200 9600 300"
  local-data: "openwrt. 7200 IN NS localhost."
  local-data: 'openwrt. 7200 IN TXT "comment=local intranet dns zone"'

  domain-insecure: 100.2.168.192.in-addr.arpa
  private-address: 192.168.2.100
  local-zone: 100.2.168.192.in-addr.arpa static
  local-data: "100.2.168.192.in-addr.arpa. 7200 IN SOA localhost. nobody.invalid. 28762409 3600 1200 9600 300"
  local-data: "100.2.168.192.in-addr.arpa. 7200 IN NS localhost."
  local-data: '100.2.168.192.in-addr.arpa. 7200 IN TXT "comment=masked internet dns zone"'

  domain-insecure: 6.0.7.2.0.0.0.0.0.0.0.0.0.0.0.0.1.0.2.1.9.a.0.c.0.e.f.4.4.0.8.2.ip6.arpa
  private-address: 2804:4fe0:c0a9:1201::2706
  local-zone: 6.0.7.2.0.0.0.0.0.0.0.0.0.0.0.0.1.0.2.1.9.a.0.c.0.e.f.4.4.0.8.2.ip6.arpa static
  local-data: "6.0.7.2.0.0.0.0.0.0.0.0.0.0.0.0.1.0.2.1.9.a.0.c.0.e.f.4.4.0.8.2.ip6.arpa. 7200 IN SOA localhost. nobody.invalid. 28762409 3600 1200 9600 300"
  local-data: "6.0.7.2.0.0.0.0.0.0.0.0.0.0.0.0.1.0.2.1.9.a.0.c.0.e.f.4.4.0.8.2.ip6.arpa. 7200 IN NS localhost."
  local-data: '6.0.7.2.0.0.0.0.0.0.0.0.0.0.0.0.1.0.2.1.9.a.0.c.0.e.f.4.4.0.8.2.ip6.arpa. 7200 IN TXT "comment=masked internet dns zone"'

  domain-insecure: 1.168.192.in-addr.arpa
  local-zone: 1.168.192.in-addr.arpa static
  local-data: "1.168.192.in-addr.arpa. 7200 IN SOA localhost. nobody.invalid. 28762409 3600 1200 9600 300"
  local-data: "1.168.192.in-addr.arpa. 7200 IN NS localhost."
  local-data: '1.168.192.in-addr.arpa. 7200 IN TXT "comment=local intranet dns zone"'

  local-data-ptr: "192.168.2.100 300 openwrt"
  local-data: "openwrt. 300 IN A 192.168.2.100"

  local-data-ptr: "2804:4fe0:c0a9:1201::2706 300 openwrt"

include: /var/lib/unbound/dhcp.conf

include: /var/lib/unbound/unbound_srv.conf

# /var/lib/unbound/zone.conf.tmp generated by UCI
auth-zone:
  name: .
  master: lax.xfr.dns.icann.org
  master: iad.xfr.dns.icann.org
  url: https://www.internic.net/domain/root.zone
  fallback-enabled: yes
  for-downstream: no
  for-upstream: yes
  zonefile: root.zone

auth-zone:
  name: arpa.
  master: lax.xfr.dns.icann.org
  master: iad.xfr.dns.icann.org
  url: https://www.internic.net/domain/arpa.zone
  fallback-enabled: yes
  for-downstream: no
  for-upstream: yes
  zonefile: arpa.zone

auth-zone:
  name: in-addr.arpa.
  master: lax.xfr.dns.icann.org
  master: iad.xfr.dns.icann.org
  url: https://www.internic.net/domain/in-addr.arpa.zone
  fallback-enabled: yes
  for-downstream: no
  for-upstream: yes
  zonefile: in-addr.arpa.zone

auth-zone:
  name: ip6.arpa.
  master: lax.xfr.dns.icann.org
  master: iad.xfr.dns.icann.org
  url: https://www.internic.net/domain/ip6.arpa.zone
  fallback-enabled: yes
  for-downstream: no
  for-upstream: yes
  zonefile: ip6.arpa.zone

 # Special zone  was not enabled or had UCI conflicts.

 # Special zone  was not enabled or had UCI conflicts.

forward-zone:
  name: .
  forward-host: ::53@53000
  forward-addr: 127.0.0.53@53000
  forward-first: no
  forward-tls-upstream: no

 # Special zone . was not enabled or had UCI conflicts.

# /var/lib/unbound/ctrl.conf.tmp generated by UCI
remote-control:
  control-enable: yes
  control-use-cert: no
  control-interface: 127.0.0.1
  control-interface: ::1

include: /var/lib/unbound/unbound_ext.conf


